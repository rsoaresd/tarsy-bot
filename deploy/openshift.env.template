# TARSy OpenShift Deployment Configuration Template
# Copy this file to openshift.env and fill in your actual values
#
# Usage:
#   1. cp deploy/openshift.env.template deploy/openshift.env
#   2. Edit deploy/openshift.env with your values
#   3. Run: make openshift-deploy
#
# The Makefile will automatically load this file if it exists.
# If this file doesn't exist, you'll need to manually export the variables.

# =============================================================================
# OpenShift Target Configuration
# =============================================================================
# Target namespace for deployment
export NAMESPACE := tarsy-dev

# OpenShift cluster URL (for documentation - not used by Makefile)
# CLUSTER_URL := https://api.your-cluster.com:6443

# Route hostname (update in deploy/kustomize/base/routes.yaml manually)
# ROUTE_HOST := tarsy-dev.apps.your-cluster.com

# =============================================================================
# Build and Push Configuration
# =============================================================================
# Image push tool selection
# Set to 'true' to use skopeo instead of podman for pushing images to registry
# export USE_SKOPEO := true

# =============================================================================
# REQUIRED: LLM Provider API Keys
# =============================================================================
# At least one LLM provider API key is required
# For quick start, just set GOOGLE_API_KEY

# Google API Key (recommended for quick start)
# Get from: https://aistudio.google.com/apikey
export GOOGLE_API_KEY := your_google_api_key_here

# OpenAI API Key (optional)
# Get from: https://platform.openai.com/api-keys
export OPENAI_API_KEY :=

# Anthropic API Key (optional)
# Get from: https://console.anthropic.com/
export ANTHROPIC_API_KEY :=

# X.AI API Key (optional, for Grok models)
# Get from: https://console.x.ai/
export XAI_API_KEY :=

# =============================================================================
# REQUIRED: GitHub Configuration
# =============================================================================
# Required for downloading runbooks from repositories
# Get from: https://github.com/settings/tokens
# Permissions needed: repo (for private repos) or public_repo (for public repos)
export GITHUB_TOKEN := your_github_token_here

# =============================================================================
# Database Configuration
# =============================================================================
# Database connection details (can be customized if needed)
export DATABASE_USER := tarsy
export DATABASE_NAME := tarsy
export DATABASE_HOST := dev-tarsy-database
export DATABASE_PORT := 5432

# Database password (auto-generated if not set)
# If you want a specific password, set it here:
# export DATABASE_PASSWORD := your_secure_password_here

# =============================================================================
# MCP Server Configuration
# =============================================================================
# Kubeconfig content for Kubernetes MCP server (base64 encoded to preserve formatting)
# Set this to provide kubeconfig for in-cluster Kubernetes MCP server access
# Portable example (Linux/macOS): export MCP_KUBECONFIG_CONTENT := $(shell cat ~/.kube/config | base64 | tr -d '\n')
# Linux-only: export MCP_KUBECONFIG_CONTENT := $(shell cat ~/.kube/config | base64 -w 0)
# macOS-only: export MCP_KUBECONFIG_CONTENT := $(shell cat ~/.kube/config | base64 -b 0)
# export MCP_KUBECONFIG_CONTENT :=

# =============================================================================
# OAuth2 Proxy Configuration (Optional for Development)
# =============================================================================
# These are optional for development but required for production
# If not set, auto-generated values will be used

# OAuth2 Client ID (from your identity provider)
export OAUTH2_CLIENT_ID :=

# OAuth2 Client Secret (from your identity provider)
export OAUTH2_CLIENT_SECRET :=

# OAuth2 Cookie Secret (auto-generated if not set)
# If you want a specific value, set it here (must be 32 characters):
# export OAUTH2_COOKIE_SECRET :=

# GitHub Organization/Team restrictions (optional)
# If set, only members of this org/team can access the dashboard
# Leave commented out for development to allow any GitHub user
# export GITHUB_ORG := your-github-org
# export GITHUB_TEAM := your-team

# =============================================================================
# MCP Server Template Variables (Optional)
# =============================================================================
# These are used if you configure custom MCP servers in agents.yaml
# Set only the ones you need based on your MCP server configuration

# ArgoCD Configuration (if using argocd MCP server)
# export ARGOCD_SERVER := your-argocd-server-url
# export ARGOCD_TOKEN := your_argocd_auth_token

# =============================================================================
# Quick Start Example
# =============================================================================
# Minimal configuration for testing:
#
# export NAMESPACE := tarsy-dev
# export GOOGLE_API_KEY := AIza...your_actual_key
# export GITHUB_TOKEN := ghp_...your_actual_token
#
# Then run: make openshift-deploy
# =============================================================================

# =============================================================================
# JWT Authentication Configuration
# =============================================================================
# JWT public key content for token validation (base64 encoded to preserve formatting)
# Set this to provide the public key for JWT authentication
# Portable example (Linux/macOS): export JWT_PUBLIC_KEY_CONTENT := $(shell cat config/keys/jwt_public_key.pem | base64 | tr -d '\n')
# Linux-only: export JWT_PUBLIC_KEY_CONTENT := $(shell cat config/keys/jwt_public_key.pem | base64 -w 0)
# macOS-only: export JWT_PUBLIC_KEY_CONTENT := $(shell cat config/keys/jwt_public_key.pem | base64 -b 0)
# export JWT_PUBLIC_KEY_CONTENT :=

# =============================================================================
# Notes
# =============================================================================
# - This file uses Makefile syntax (VAR := value) to be loaded by Make
# - Values marked as "required" must be set
# - Auto-generated values (DATABASE_PASSWORD, OAUTH2_COOKIE_SECRET) will be
#   created by OpenShift templates if not provided
# - This file should NEVER be committed to git (it's in .gitignore)
# - For production deployments, use a proper secret management solution
# =============================================================================